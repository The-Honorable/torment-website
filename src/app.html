<nav class="bg-gray-800 fixed w-full z-20 top-0 left-0 shadow-xl border-b border-gray-600 h-16">
    <div class="w-full h-16 px-4 flex flex-nowrap items-center justify-between mx-auto">

        <a href="./" class="text-xl link-text truncate">
            D2R Reimagined
        </a>

        <div class="flex lg:order-2">
            <!-- Font selection dropdown -->
            <div class="flex items-center relative font-menu px-4">
                <button type="button"
                        class="text-2xl link-text inline-flex items-center cursor-pointer select-none"
                        data-help-text="Select a font for viewing the site."
                        data-tooltip-placement="bottom"
                        aria-label="Choose font"
                        aria-haspopup="true"
                        aria-expanded.bind="fontMenuOpen.toString()"
                        click.trigger="toggleFontMenu()"
                        keydown.trigger="event.key === 'Escape' && closeFontMenu()">
                    <span class="sr-only">Select Font</span>
                    <span class="mso">type_specimen</span>
                </button>
                <!-- Dropdown panel -->
                <div if.bind="fontMenuOpen"
                     class="fixed right-5 top-15.75 min-w-70 z-30 bg-gray-800 border border-gray-600 rounded-b-lg shadow-md overflow-hidden"
                     role="menu"
                     keydown.trigger="event.key === 'Escape' && closeFontMenu()">
                    <ul class="py-1">
                        <li repeat.for="font of fonts">
                            <button type="button"
                                    class="w-full text-left p-4 text-lg link-text flex items-center justify-between"
                                    role="menuitem"
                                    title.bind="'Preview ' + font.name"
                                    click.trigger="selectFont(font, $event)">
                                <span class.bind="font.class">${font.name}</span>
                                <span if.bind="font.class === selectedFontClass"
                                      class="mso ml-2">check</span>
                            </button>
                        </li>
                    </ul>
                </div>
            </div>

            <button type="button"
                    class="flex items-center px-2 text-2xl link-text lg:hidden"
                    aria-controls="navbar-sticky" aria-expanded="false"
                    click.trigger="toggleMobileMenu($event.currentTarget)">
                <span class="sr-only">Open main menu</span>
                <span class="mso">menu</span>
            </button>

            <a href="https://discord.gg/9zZkYrSA8C" target="_blank"
               class="hidden items-center lg:flex text-purple-500 hover:text-purple-400">
                <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                     viewBox="0 0 24 24">
                    <path d="M18.942 5.556a16.3 16.3 0 0 0-4.126-1.3 12.04 12.04 0 0 0-.529 1.1 15.175 15.175 0 0 0-4.573 0 11.586 11.586 0 0 0-.535-1.1 16.274 16.274 0 0 0-4.129 1.3 17.392 17.392 0 0 0-2.868 11.662 15.785 15.785 0 0 0 4.963 2.521c.41-.564.773-1.16 1.084-1.785a10.638 10.638 0 0 1-1.706-.83c.143-.106.283-.217.418-.331a11.664 11.664 0 0 0 10.118 0c.137.114.277.225.418.331-.544.328-1.116.606-1.71.832a12.58 12.58 0 0 0 1.084 1.785 16.46 16.46 0 0 0 5.064-2.595 17.286 17.286 0 0 0-2.973-11.59ZM8.678 14.813a1.94 1.94 0 0 1-1.8-2.045 1.93 1.93 0 0 1 1.8-2.047 1.918 1.918 0 0 1 1.8 2.047 1.929 1.929 0 0 1-1.8 2.045Zm6.644 0a1.94 1.94 0 0 1-1.8-2.045 1.93 1.93 0 0 1 1.8-2.047 1.919 1.919 0 0 1 1.8 2.047 1.93 1.93 0 0 1-1.8 2.045Z"/>
                </svg>
            </a>
        </div>

        <div class="w-auto hidden fixed right-5 top-15.75 items-center justify-between lg:static lg:flex lg:w-auto lg:ms-0 lg:order-1"
             id="navbar-sticky">
            <ul class="flex flex-col gap-4 p-4 border border-gray-600 bg-gray-800 rounded-b-lg lg:flex-row lg:gap-6 lg:p-0 lg:border-0 lg:bg-transparent">
                <li>
                    <a href="./bases" class="block text-lg link-text" aria-current="page"
                       click.trigger="closeMobileMenu()">Bases</a>
                </li>
                <li>
                    <a href="./affixes" class="block text-lg link-text" aria-current="page"
                       click.trigger="closeMobileMenu()">Affixes</a>
                </li>
                <li>
                    <a href="./uniques" class="block text-lg link-text" aria-current="page"
                       click.trigger="closeMobileMenu()">Uniques</a>
                </li>
                <li>
                    <a href="./sets" class="block text-lg link-text" aria-current="page"
                       click.trigger="closeMobileMenu()">Sets</a>
                </li>
                <li>
                    <a href="./runewords" class="block text-lg link-text" aria-current="page"
                       click.trigger="closeMobileMenu()">Runewords</a>
                </li>
                <li>
                    <a href="./grail" class="block text-lg link-text" aria-current="page"
                       click.trigger="closeMobileMenu()">Grail</a>
                </li>
                <li>
                    <a href="./cube-recipes" class="block text-lg link-text truncate" aria-current="page"
                       click.trigger="closeMobileMenu()">Cube Recipes</a>
                </li>
                <li>
                    <a href="https://wiki.d2r-reimagined.com/" target="_blank"
                       class="flex text-lg link-text items-center" aria-current="page"
                       click.trigger="closeMobileMenu()">Wiki<span class="mso ml-1">open_in_new</span>
                    </a>
                </li>
            </ul>
        </div>

    </div>
</nav>

<!-- Nav Bar Spacer -->
<div class="h-16"></div>

<div class="w-full pb-12">
    <au-viewport default="Home"></au-viewport>
</div>

<!-- Floating Top Button visible after about 2 screens of height -->
<button type="button"
        class="min-w-10 min-h-10 m-auto flex items-center justify-center text-2xl type-text
        fixed bottom-2 right-2 z-50 ring-0 ring-offset-0 rounded-full shadow-md
         bg-gray-800 border border-gray-600 hover:bg-gray-700 hover:border-gray-400"
        aria-label="Back to top" click.trigger="scrollToTop()" if.bind="showBackToTop">
    <span class="mso" aria-hidden="true">arrow_upward</span>
    <span class="sr-only">Top</span>
</button>
